<?xml version="1.0" encoding="UTF-8"?>
<!--
   Licensed to the Apache Software Foundation (ASF) under one or more
   contributor license agreements.  See the NOTICE file distributed with
   this work for additional information regarding copyright ownership.
   The ASF licenses this file to You under the Apache License, Version 2.0
   (the "License"); you may not use this file except in compliance with
   the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->
<configuration supports_adding_forbidden="true">
  <property>
    <name>kernel.shmmax</name>
    <value>500000000</value>
    <description>Maximum size in bytes of a single shared memory segment that a Linux process can allocate in its
      virtual address space</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
    </value-attributes>
  </property>

  <property>
    <name>kernel.shmmni</name>
    <value>4096</value>
    <description>System wide maximum number of shared memory segments</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
    </value-attributes>
  </property>

  <property>
    <name>kernel.shmall</name>
    <value>4000000000</value>
    <description>Total amount of shared memory pages that can be used system wide</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
    </value-attributes>
  </property>

  <property>
    <name>kernel.sem</name>
    <value>250 512000 100 2048</value>
    <description>Parameter to define semaphore related values</description>
    <value-attributes>
      <type>string</type>
    </value-attributes>
  </property>

  <property>
    <name>kernel.sysrq</name>
    <value>1</value>
    <description>Enable(1)/Disable(0) functions of sysrq</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>1</maximum>
    </value-attributes>
  </property>

  <property>
    <name>kernel.core_uses_pid</name>
    <value>1</value>
    <description>Enable appending process id to the name of core dump file. Ex: core.PID</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>1</maximum>
    </value-attributes>
  </property>

  <property>
    <name>kernel.msgmnb</name>
    <value>65536</value>
    <description>Default maximum size of a message in bytes</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
    </value-attributes>
  </property>

  <property>
    <name>kernel.msgmax</name>
    <value>65536</value>
    <description>Default maxmimum size of a mesage queue</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
    </value-attributes>
  </property>

  <property>
    <name>kernel.msgmni</name>
    <value>2048</value>
    <description>Number of message queue identifiers</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
    </value-attributes>
  </property>

  <property>
    <name>net.ipv4.tcp_syncookies</name>
    <value>0</value>
    <description>Enable(1)/Disable(0) SYN cookie protection</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>1</maximum>
    </value-attributes>
  </property>

  <property>
    <name>net.ipv4.ip_forward</name>
    <value>0</value>
    <description>Enable(1)/Disable(0) IP forwarding</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>1</maximum>
    </value-attributes>
  </property>

  <property>
    <name>net.ipv4.conf.default.accept_source_route</name>
    <value>0</value>
    <description>Enable(1)/Disable(0) IP source routing</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>1</maximum>
    </value-attributes>
  </property>

  <property>
    <name>net.ipv4.tcp_tw_recycle</name>
    <value>1</value>
    <description>Enable(1)/Disable(0) fast recycling of TIME_WAIT sockets</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>1</maximum>
    </value-attributes>
  </property>

  <property>
    <name>net.ipv4.tcp_max_syn_backlog</name>
    <value>200000</value>
    <description>Number of outstanding syn requests allowed</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
    </value-attributes>
  </property>

  <property>
    <name>net.ipv4.conf.all.arp_filter</name>
    <value>1</value>
    <description>Enable(1)/Disable(0) route lookup to determine the interface through which to send the reply</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>1</maximum>
    </value-attributes>
  </property>

  <property>
    <name>net.ipv4.ip_local_port_range</name>
    <value>1281 65535</value>
    <description>Local port range that is used by TCP and UDP traffic to choose the local port</description>
    <value-attributes>
      <type>string</type>
    </value-attributes>
  </property>

  <property>
    <name>net.core.netdev_max_backlog</name>
    <value>200000</value>
    <description>Maximum number of packets allowed to queue when a particular interface receives packets faster than the kernel can process them</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
    </value-attributes>
  </property>

  <property>
    <name>fs.nr_open</name>
    <value>3000000</value>
    <description>Maximum number of file-handles a process can allocate</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
    </value-attributes>
  </property>

  <property>
    <name>kernel.threads-max</name>
    <value>798720</value>
    <description>System-wide maximum number of threads to be used by the kernel at one time</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
    </value-attributes>
  </property>

  <property>
    <name>kernel.pid_max</name>
    <value>798720</value>
    <description>Maximum number of unique process identifiers</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
    </value-attributes>
  </property>

  <property>
    <name>net.core.rmem_max</name>
    <value>2097152</value>
    <description>Maximum receive socket buffer size in bytes</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
    </value-attributes>
  </property>

  <property>
    <name>net.core.wmem_max</name>
    <value>2097152</value>
    <description>Maximum send socket buffer size in bytes</description>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
    </value-attributes>
  </property>

  <property>
    <name>vm.overcommit_memory</name>
    <display-name>VM Overcommit</display-name>
    <value>1</value>
    <description>Defines the conditions that determine whether a large memory request is accepted or denied. There are three possible values for this parameter: 0, 1 or 2. For production environment, value of 2 is recommended</description>
    <value-attributes>
      <type>value-list</type>
      <entries>
        <entry>
          <value>0</value>
          <description>Heuristic overcommit handling</description>
        </entry>
        <entry>
          <value>1</value>
          <description>Always overcommit</description>
        </entry>
        <entry>
          <value>2</value>
          <description>Don't overcommit</description>
        </entry>
      </entries>
      <selection-cardinality>1</selection-cardinality>
    </value-attributes>
  </property>

</configuration>

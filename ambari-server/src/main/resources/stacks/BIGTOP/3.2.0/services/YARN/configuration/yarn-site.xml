<?xml version="1.0"?>
<?xml-stylesheet type="text/xsl" href="configuration.xsl"?>
<!--
   Licensed to the Apache Software Foundation (ASF) under one or more
   contributor license agreements.  See the NOTICE file distributed with
   this work for additional information regarding copyright ownership.
   The ASF licenses this file to You under the Apache License, Version 2.0
   (the "License"); you may not use this file except in compliance with
   the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->
<!-- Put site-specific property overrides in this file. -->
<configuration xmlns:xi="http://www.w3.org/2001/XInclude" supports_final="true">
  <!-- ResourceManager -->
  <property>
    <name>yarn.resourcemanager.hostname</name>
    <value>localhost</value>
    <description>The hostname of the RM.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.resource-tracker.address</name>
    <value>localhost:8025</value>
    <description> The address of ResourceManager. </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.scheduler.address</name>
    <value>localhost:8030</value>
    <description>The address of the scheduler interface.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.address</name>
    <value>localhost:8050</value>
    <description>
      The address of the applications manager interface in the
      RM.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.admin.address</name>
    <value>localhost:8141</value>
    <description>The address of the RM admin interface.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.scheduler.class</name>
    <value>org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler</value>
    <description>The class to use as the resource scheduler.</description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.scheduler.minimum-allocation-mb</name>
    <value>512</value>
    <description>
      The minimum allocation for every container request at the RM,
      in MBs. Memory requests lower than this won't take effect,
      and the specified value will get allocated at minimum.
    </description>
    <display-name>Minimum Container Size (Memory)</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>5120</maximum>
      <unit>MB</unit>
      <increment-step>256</increment-step>
    </value-attributes>
    <depends-on>
      <property>
        <type>yarn-site</type>
        <name>yarn.nodemanager.resource.memory-mb</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.scheduler.maximum-allocation-mb</name>
    <value>5120</value>
    <description>
      The maximum allocation for every container request at the RM,
      in MBs. Memory requests higher than this won't take effect,
      and will get capped to this value.
    </description>
    <display-name>Maximum Container Size (Memory)</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>5120</maximum>
      <unit>MB</unit>
      <increment-step>256</increment-step>
    </value-attributes>
    <depends-on>
      <property>
        <type>yarn-site</type>
        <name>yarn.nodemanager.resource.memory-mb</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.acl.enable</name>
    <value>false</value>
    <description> Are acls enabled. </description>
    <depends-on>
      <property>
        <type>ranger-yarn-plugin-properties</type>
        <name>ranger-yarn-plugin-enabled</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.admin.acl</name>
    <value>yarn,yarn-ats</value>
    <description> ACL of who can be admin of the YARN cluster. </description>
    <value-attributes>
      <empty-value-valid>true</empty-value-valid>
    </value-attributes>
    <on-ambari-upgrade add="true"/>
  </property>
  <!-- NodeManager -->
  <property>
    <name>yarn.nodemanager.address</name>
    <value>0.0.0.0:45454</value>
    <description>The address of the container manager in the NM.</description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.nodemanager.resource.memory-mb</name>
    <value>5120</value>
    <description>Amount of physical memory, in MB, that can be allocated
      for containers.</description>
    <display-name>Memory allocated for all YARN containers on a node</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>268435456</maximum>
      <unit>MB</unit>
      <increment-step>256</increment-step>
    </value-attributes>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.application.classpath</name>
    <value>{{hadoop_conf_dir}},{{hadoop_home}}/*,{{hadoop_home}}/lib/*,{{hadoop_hdfs_home}}/*,{{hadoop_hdfs_home}}/lib/*,{{hadoop_yarn_home}}/*,{{hadoop_yarn_home}}/lib/*</value>
    <description>Classpath for typical applications.</description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.nodemanager.vmem-pmem-ratio</name>
    <value>2.1</value>
    <description>Ratio between virtual memory to physical memory when
      setting memory limits for containers. Container allocations are
      expressed in terms of physical memory, and virtual memory usage
      is allowed to exceed this allocation by this ratio.
    </description>
    <display-name>Virtual Memory Ratio</display-name>
    <value-attributes>
      <type>float</type>
      <minimum>0.1</minimum>
      <maximum>5.0</maximum>
      <increment-step>0.1</increment-step>
    </value-attributes>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.nodemanager.container-executor.class</name>
    <value>org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor</value>
    <description>ContainerExecutor for launching containers</description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.nodemanager.linux-container-executor.group</name>
    <value>hadoop</value>
    <description>Unix group of the NodeManager</description>
    <depends-on>
      <property>
        <type>yarn-env</type>
        <name>yarn_cgroups_enabled</name>
      </property>
      <property>
        <type>cluster-env</type>
        <name>user_group</name>
      </property>
      <property>
        <type>container-executor</type>
        <name>gpu_module_enabled</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.aux-services</name>
    <value>mapreduce_shuffle,{{timeline_collector}}</value>
    <description>Auxilliary services of NodeManager. A valid service name should only contain a-zA-Z0-9_ and cannot start with numbers</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.aux-services.mapreduce_shuffle.class</name>
    <value>org.apache.hadoop.mapred.ShuffleHandler</value>
    <description>The auxiliary service class to use </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.log-dirs</name>
    <display-name>YARN NodeManager Log directories</display-name>
    <value>/hadoop/yarn/log</value>
    <description>
      Where to store container logs. An application's localized log directory
      will be found in ${yarn.nodemanager.log-dirs}/application_${appid}.
      Individual containers' log directories will be below this, in directories
      named container_{$contid}. Each container directory will contain the files
      stderr, stdin, and syslog generated by that container.
    </description>
    <value-attributes>
      <type>directories</type>
    </value-attributes>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.nodemanager.local-dirs</name>
    <display-name>YARN NodeManager Local directories</display-name>
    <value>/hadoop/yarn/local</value>
    <description>
      List of directories to store localized files in. An
      application's localized file directory will be found in:
      ${yarn.nodemanager.local-dirs}/usercache/${user}/appcache/application_${appid}.
      Individual containers' work directories, called container_${contid}, will
      be subdirectories of this.
    </description>
    <value-attributes>
      <type>directories</type>
    </value-attributes>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.nodemanager.container-monitor.interval-ms</name>
    <value>3000</value>
    <description>
      The interval, in milliseconds, for which the node manager
      waits  between two cycles of monitoring its containers' memory usage.
    </description>
    <on-ambari-upgrade add="true"/>
  </property>
  <!--
  <property>
    <name>yarn.nodemanager.health-checker.script.path</name>
    <value>/etc/hadoop/conf/health_check_nodemanager</value>
    <description>The health check script to run.</description>
  </property>
   -->
  <property>
    <name>yarn.nodemanager.health-checker.interval-ms</name>
    <value>135000</value>
    <description>Frequency of running node health script.</description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.nodemanager.health-checker.script.timeout-ms</name>
    <value>60000</value>
    <description>Script time out period.</description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.nodemanager.log.retain-seconds</name>
    <value>604800</value>
    <description>
      Time in seconds to retain user logs. Only applicable if
      log aggregation is disabled.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.log-aggregation-enable</name>
    <value>true</value>
    <description>Whether to enable log aggregation. </description>
    <display-name>Enable Log Aggregation</display-name>
    <value-attributes>
      <type>boolean</type>
    </value-attributes>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.nodemanager.remote-app-log-dir</name>
    <display-name>YARN NodeManager Remote App Log directory</display-name>
    <value>/app-logs</value>
    <description>Location to aggregate logs to. </description>
    <property-type>NOT_MANAGED_HDFS_PATH</property-type>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.nodemanager.remote-app-log-dir-suffix</name>
    <value>logs</value>
    <description>
      The remote log dir will be created at
      {yarn.nodemanager.remote-app-log-dir}/${user}/{thisParam}.
    </description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.nodemanager.log-aggregation.compression-type</name>
    <value>gz</value>
    <description>
      T-file compression types used to compress aggregated logs.
    </description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.nodemanager.delete.debug-delay-sec</name>
    <value>0</value>
    <description>
      Number of seconds after an application finishes before the nodemanager's
      DeletionService will delete the application's localized file directory
      and log directory.

      To diagnose Yarn application problems, set this property's value large
      enough (for example, to 600 = 10 minutes) to permit examination of these
      directories. After changing the property's value, you must restart the
      nodemanager in order for it to have an effect.

      The roots of Yarn applications' work directories is configurable with
      the yarn.nodemanager.local-dirs property (see below), and the roots
      of the Yarn applications' log directories is configurable with the
      yarn.nodemanager.log-dirs property (see also below).
    </description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.log-aggregation.retain-seconds</name>
    <value>2592000</value>
    <description>
      How long to keep aggregation logs before deleting them. -1 disables.
      Be careful set this too small and you will spam the name node.
    </description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.nodemanager.admin-env</name>
    <value>MALLOC_ARENA_MAX=$MALLOC_ARENA_MAX</value>
    <description>
      Environment variables that should be forwarded from the NodeManager's
      environment to the container's.
    </description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.nodemanager.disk-health-checker.min-healthy-disks</name>
    <value>0.25</value>
    <description>
      The minimum fraction of number of disks to be healthy for the nodemanager
      to launch new containers. This correspond to both
      yarn-nodemanager.local-dirs and yarn.nodemanager.log-dirs. i.e.
      If there are less number of healthy local-dirs (or log-dirs) available,
      then new containers will not be launched on this node.
    </description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.resourcemanager.am.max-attempts</name>
    <value>2</value>
    <description>
      The maximum number of application attempts. It's a global
      setting for all application masters. Each application master can specify
      its individual maximum number of application attempts via the API, but the
      individual number cannot be more than the global upper bound. If it is,
      the resourcemanager will override it. The default number is set to 2, to
      allow at least one retry for AM.
    </description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.resourcemanager.webapp.address</name>
    <value>localhost:8088</value>
    <description>
      The address of the RM web application.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.webapp.https.address</name>
    <value>localhost:8090</value>
    <description>
      The https address of the RM web application.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.vmem-check-enabled</name>
    <value>false</value>
    <description>
      Whether virtual memory limits will be enforced for containers.
    </description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.log.server.url</name>
    <value>http://localhost:19888/jobhistory/logs</value>
    <description>
      URI for the HistoryServer's log resource
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.nodes.exclude-path</name>
    <value>/etc/hadoop/conf/yarn.exclude</value>
    <description>
      Names a file that contains a list of hosts that are
      not permitted to connect to the resource manager.  The full pathname of the
      file must be specified.  If the value is empty, no hosts are
      excluded.
    </description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>manage.include.files</name>
    <value>false</value>
    <description>If true Ambari will manage include file if yarn.resourcemanager.nodes.include-path is configured.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.http.policy</name>
    <value>HTTP_ONLY</value>
    <description>
      This configures the HTTP endpoint for Yarn Daemons.The following values are supported: - HTTP_ONLY : Service is provided only on http - HTTPS_ONLY : Service is provided only on https
    </description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.timeline-service.enabled</name>
    <value>true</value>
    <description>Indicate to clients whether timeline service is enabled or not.
      If enabled, clients will put entities and events to the timeline server.
    </description>
    <value-attributes>
      <type>boolean</type>
    </value-attributes>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.timeline-service.generic-application-history.store-class</name>
    <value>org.apache.hadoop.yarn.server.applicationhistoryservice.NullApplicationHistoryStore</value>
    <description>
      Store class name for history store, defaulting to file system store
    </description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.timeline-service.leveldb-timeline-store.path</name>
    <value>/var/log/hadoop-yarn/timeline</value>
    <description>
      Store file name for leveldb timeline store
    </description>
    <value-attributes>
      <type>directory</type>
    </value-attributes>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.timeline-service.webapp.address</name>
    <value>localhost:8188</value>
    <description>
      The http address of the timeline service web application.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.webapp.https.address</name>
    <value>localhost:8190</value>
    <description>
      The http address of the timeline service web application.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.address</name>
    <value>localhost:10200</value>
    <description>
      This is default address for the timeline server to start
      the RPC server.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <description>Enable age off of timeline store data.</description>
    <name>yarn.timeline-service.ttl-enable</name>
    <value>true</value>
    <value-attributes>
      <type>boolean</type>
    </value-attributes>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.timeline-service.ttl-ms</name>
    <description>Time to live for timeline store data in milliseconds.</description>
    <value>2678400000</value>
    <value-attributes>
      <type>int</type>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.leveldb-timeline-store.ttl-interval-ms</name>
    <description>Length of time to wait between deletion cycles of leveldb timeline store in milliseconds.</description>
    <value>300000</value>
    <value-attributes>
      <type>int</type>
    </value-attributes>
    <on-ambari-upgrade add="true"/>
  </property>

  <!-- These properties were inherited from HDP 2.2 -->
  <property>
    <name>hadoop.registry.zk.quorum</name>
    <value>localhost:2181</value>
    <description>
      List of hostname:port pairs defining the zookeeper quorum binding for the registry
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>hadoop.registry.dns.bind-port</name>
    <value>53</value>
    <description>
      The port number for the DNS listener. The default port is 53.
    </description>
    <on-ambari-upgrade add="false"/>
    <value-attributes>
      <hidden>true</hidden>
      <visible>false</visible>
    </value-attributes>
    <depends-on>
      <property>
        <type>yarn-env</type>
        <name>registry.dns.bind-port</name>
      </property>
    </depends-on>
  </property>
  <property>
    <name>hadoop.registry.dns.zone-mask</name>
    <value>255.255.255.0</value>
    <description>
      The network mask associated with the zone IP range.  If specified, it is utilized to ascertain the IP range possible and come up with an appropriate reverse zone name.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>hadoop.registry.dns.zone-subnet</name>
    <value>172.17.0.0</value>
    <description>
      An indicator of the IP range associated with the cluster containers. The setting is utilized for the
      generation of the reverse zone name.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>hadoop.registry.dns.enabled</name>
    <value>true</value>
    <description>
      An indicator of the IP range associated with the cluster containers. The setting is utilized for the
      generation of the reverse zone name.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>hadoop.registry.dns.domain-name</name>
    <value>EXAMPLE.COM</value>
    <description>
      The domain name for Hadoop cluster.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.recovery.enabled</name>
    <value>true</value>
    <description>Enable the node manager to recover after starting</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.recovery.dir</name>
    <display-name>YARN NodeManager Recovery directory</display-name>
    <value>{{yarn_log_dir_prefix}}/nodemanager/recovery-state</value>
    <description>
      The local filesystem directory in which the node manager will store
      state when recovery is enabled.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.client.nodemanager-connect.retry-interval-ms</name>
    <value>10000</value>
    <description>Time interval between each attempt to connect to NM</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.client.nodemanager-connect.max-wait-ms</name>
    <value>60000</value>
    <description>Max time to wait to establish a connection to NM</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.recovery.enabled</name>
    <value>true</value>
    <description>
      Enable RM to recover state after starting.
      If true, then yarn.resourcemanager.store.class must be specified.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.work-preserving-recovery.enabled</name>
    <value>true</value>
    <description>
      Enable RM work preserving recovery. This configuration is private to YARN for experimenting the feature.
    </description>
    <display-name>Enable Work Preserving Restart</display-name>
    <value-attributes>
      <type>boolean</type>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.store.class</name>
    <value>org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore</value>
    <description>
      The class to use as the persistent store.
      If org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore is used,
      the store is implicitly fenced; meaning a single ResourceManager
      is able to use the store at any point in time.
    </description>
    <on-ambari-upgrade add="true"/>
  </property>
  <property>
    <name>yarn.resourcemanager.zk-address</name>
    <value>localhost:2181</value>
    <description>
      List Host:Port of the ZooKeeper servers to be used by the RM. comma separated host:port pairs, each corresponding to a zk server. e.g. "127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002" If the optional chroot suffix is used the example would look like: "127.0.0.1:3000,127.0.0.1:3001,127.0.0.1:3002/app/a" where the client would be rooted at "/app/a" and all paths would be relative to this root - ie getting/setting/etc...  "/foo/bar" would result in operations being run on "/app/a/foo/bar" (from the server perspective).
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.zk-state-store.parent-path</name>
    <value>/rmstore</value>
    <description>Full path of the ZooKeeper znode where RM state will be stored. This must be supplied when using org.apache.hadoop.yarn.server.resourcemanager.recovery.ZKRMStateStore as the value for yarn.resourcemanager.store.class</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.zk-acl</name>
    <value>world:anyone:rwcda</value>
    <description>ACL's to be used for ZooKeeper znodes.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.work-preserving-recovery.scheduling-wait-ms</name>
    <value>10000</value>
    <description>Set the amount of time RM waits before allocating new containers on work-preserving-recovery. Such wait period gives RM a chance to settle down resyncing with NMs in the cluster on recovery, before assigning new containers to applications.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.connect.retry-interval.ms</name>
    <value>30000</value>
    <description>How often to try connecting to the ResourceManager.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.connect.max-wait.ms</name>
    <value>900000</value>
    <description>Maximum time to wait to establish connection to ResourceManager</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.zk-retry-interval-ms</name>
    <value>1000</value>
    <description>"Retry interval in milliseconds when connecting to ZooKeeper.
      When HA is enabled, the value here is NOT used. It is generated
      automatically from yarn.resourcemanager.zk-timeout-ms and
      yarn.resourcemanager.zk-num-retries."
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.zk-num-retries</name>
    <value>1000</value>
    <description>Number of times RM tries to connect to ZooKeeper.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.zk-timeout-ms</name>
    <value>10000</value>
    <description>ZooKeeper session timeout in milliseconds. Session expiration is managed by the ZooKeeper cluster itself, not by the client. This value is used by the cluster to determine when the client's session expires. Expirations happens when the cluster does not hear from the client within the specified session timeout period (i.e. no heartbeat).</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.state-store.max-completed-applications</name>
    <value>${yarn.resourcemanager.max-completed-applications}</value>
    <description>The maximum number of completed applications RM state store keeps, less than or equals to ${yarn.resourcemanager.max-completed-applications}. By default, it equals to ${yarn.resourcemanager.max-completed-applications}. This ensures that the applications kept in the state store are consistent with the applications remembered in RM memory. Any values larger than ${yarn.resourcemanager.max-completed-applications} will be reset to ${yarn.resourcemanager.max-completed-applications}. Note that this value impacts the RM recovery performance.Typically,  a smaller value indicates better performance on RM recovery.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.fs.state-store.retry-policy-spec</name>
    <value>2000, 500</value>
    <description>hdfs client retry policy specification. hdfs client retry is always enabled. Specified in pairs of sleep-time and number-of-retries and (t0, n0), (t1, n1), ..., the first n0 retries sleep t0 milliseconds on average, the following n1 retries sleep t1 milliseconds on average, and so on.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.fs.state-store.uri</name>
    <value> </value>
    <description>RI pointing to the location of the FileSystem path where RM state will be stored. This must be supplied when using org.apache.hadoop.yarn.server.resourcemanager.recovery.FileSystemRMStateStore as the value for yarn.resourcemanager.store.class </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.ha.enabled</name>
    <value>false</value>
    <description>enable RM HA or not</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.linux-container-executor.resources-handler.class</name>
    <value>org.apache.hadoop.yarn.server.nodemanager.util.DefaultLCEResourcesHandler</value>
    <description>Pre-requisite to use CGroups</description>
    <depends-on>
      <property>
        <type>yarn-env</type>
        <name>yarn_cgroups_enabled</name>
      </property>
      <property>
        <type>container-executor</type>
        <name>gpu_module_enabled</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.linux-container-executor.cgroups.hierarchy</name>
    <value>/yarn</value>
    <description>Name of the Cgroups hierarchy under which all YARN jobs will be launched</description>
    <depends-on>
      <property>
        <type>yarn-env</type>
        <name>yarn_cgroups_enabled</name>
      </property>
      <property>
        <type>container-executor</type>
        <name>gpu_module_enabled</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.linux-container-executor.cgroups.mount</name>
    <value>false</value>
    <description>If true, YARN will automount the CGroup, however the directory needs to already exist; else, the cgroup should be mounted by the admin</description>
    <depends-on>
      <property>
        <type>yarn-env</type>
        <name>yarn_cgroups_enabled</name>
      </property>
      <property>
        <type>container-executor</type>
        <name>gpu_module_enabled</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.linux-container-executor.cgroups.mount-path</name>
    <value>/cgroup</value>
    <description>Path used by the LCE to mount cgroups if not found. This path must exist before the NodeManager is launched.</description>
    <depends-on>
      <property>
        <type>yarn-env</type>
        <name>yarn_cgroups_enabled</name>
      </property>
      <property>
        <type>container-executor</type>
        <name>gpu_module_enabled</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.linux-container-executor.cgroups.strict-resource-usage</name>
    <value>false</value>
    <description>Strictly limit CPU resource usage to allocated usage even if spare CPU is available</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.resource.cpu-vcores</name>
    <value>8</value>
    <description>Number of vcores that can be allocated
      for containers. This is used by the RM scheduler when allocating
      resources for containers. This is not used to limit the number of
      CPUs used by YARN containers. If it is set to -1 and
      yarn.nodemanager.resource.detect-hardware-capabilities is true, it is
      automatically determined from the hardware in case of Windows and Linux.
      In other cases, number of vcores is 8 by default.
    </description>
    <display-name>Number of virtual cores</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>32</maximum>
    </value-attributes>
    <depends-on>
      <property>
        <type>yarn-site</type>
        <name>yarn.nodemanager.resource.percentage-physical-cpu-limit</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.resource.percentage-physical-cpu-limit</name>
    <value>80</value>
    <description>The amount of CPU allocated for YARN containers - only effective when used with CGroups</description>
    <display-name>Percentage of physical CPU allocated for all containers on a node</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>100</maximum>
      <increment-step>1</increment-step>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.node-labels.fs-store.retry-policy-spec</name>
    <value>2000, 500</value>
    <description>
      Retry policy used for FileSystem node label store. The policy is
      specified by N pairs of sleep-time in milliseconds and number-of-retries
      &quot;s1,n1,s2,n2,...&quot;.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.disk-health-checker.min-free-space-per-disk-mb</name>
    <value>1000</value>
    <description>This is related to disk size on the machines, admins should set one of yarn.nodemanager.disk-health-checker.min-free-space-per-disk-mb or yarn.nodemanager.disk-health-checker.max-disk-utilization-per-disk-percentage but not both. If both are set, the more conservative value will be used</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.disk-health-checker.max-disk-utilization-per-disk-percentage</name>
    <value>90</value>
    <description>This is related to disk size on the machines, admins should set one of yarn.nodemanager.disk-health-checker.min-free-space-per-disk-mb or yarn.nodemanager.disk-health-checker.max-disk-utilization-per-disk-percentage but not both. If both are set, the more conservative value will be used</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.resource-plugins</name>
    <value></value>
    <description>
      Enable additional discovery/isolation of resources on the NodeManager,
      split by comma. By default, this is empty.
      Acceptable values: { "yarn-io/gpu"}
    </description>
    <depends-on>
      <property>
        <type>container-executor</type>
        <name>gpu_module_enabled</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="false"/>
    <value-attributes>
      <empty-value-valid>true</empty-value-valid>
    </value-attributes>
  </property>
  <property>
    <name>yarn.nodemanager.resource-plugins.gpu.allowed-gpu-devices</name>
    <value>auto</value>
    <display-name>GPU allowed devices</display-name>
    <description>Specify GPU devices which can be managed by YARN NodeManager,
      split by comma. Number of GPU devices will be reported to RM to make
      scheduling decisions. Set to auto (default) let YARN automatically
      discover GPU resource from system
    </description>
    <depends-on>
      <property>
        <type>container-executor</type>
        <name>gpu_module_enabled</name>
      </property>
    </depends-on>
    <value-attributes>
      <empty-value-valid>true</empty-value-valid>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.resource-plugins.gpu.path-to-discovery-executables</name>
    <value></value>
    <display-name>Absolute path of nvidia-smi on NodeManagers</display-name>
    <description>When value is empty (default), YARN NodeManager will try to
      locate discovery executable itself</description>
    <on-ambari-upgrade add="false"/>
    <value-attributes>
      <type>directories</type>
      <overridable>false</overridable>
      <empty-value-valid>true</empty-value-valid>
    </value-attributes>
  </property>
  <property>
    <name>yarn.nodemanager.log-aggregation.roll-monitoring-interval-seconds</name>
    <description>Defines how often NMs wake up to upload log files. The default value is -1. By default, the logs will be uploaded whenthe application is finished. By setting this configure, logs can be uploaded periodically when the application is running. The minimum rolling-interval-seconds can be set is 3600.</description>
    <value>3600</value>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.log-aggregation.debug-enabled</name>
    <value>false</value>
    <description>
      This configuration is for debug and test purpose.
      By setting this configuration as true.
      We can break the lower bound of yarn.nodemanager.log-aggregation.roll-monitoring-interval-seconds</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.log-aggregation.num-log-files-per-app</name>
    <value>30</value>
    <description>This is temporary solution. The configuration will be deleted once, we find a more scalable method to only write a single log file per LRS.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.system-metrics-publisher.enabled</name>
    <value>true</value>
    <description/>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.system-metrics-publisher.dispatcher.pool-size</name>
    <value>10</value>
    <description>Number of worker threads that send the yarn system metrics data.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.client.max-retries</name>
    <value>30</value>
    <description/>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.client.retry-interval-ms</name>
    <value>1000</value>
    <description/>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.ttl-enable</name>
    <value>true</value>
    <description>
      Enable age off of timeline store data.
    </description>
    <value-attributes>
      <type>boolean</type>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.state-store-class</name>
    <value>org.apache.hadoop.yarn.server.timeline.recovery.LeveldbTimelineStateStore</value>
    <description>Store class name for timeline state store.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.leveldb-state-store.path</name>
    <value>/hadoop/yarn/timeline</value>
    <description>Store file name for leveldb state store.</description>
    <value-attributes>
      <type>directory</type>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.leveldb-timeline-store.path</name>
    <value>/hadoop/yarn/timeline</value>
    <description>Store file name for leveldb timeline store.</description>
    <value-attributes>
      <type>directory</type>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.leveldb-timeline-store.read-cache-size</name>
    <value>104857600</value>
    <description>
      Size of read cache for uncompressed blocks for leveldb timeline store in bytes.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.leveldb-timeline-store.start-time-read-cache-size</name>
    <value>10000</value>
    <description>
      Size of cache for recently read entity start times for leveldb timeline store in number of entities.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.leveldb-timeline-store.start-time-write-cache-size</name>
    <value>10000</value>
    <description>
      Size of cache for recently written entity start times for leveldb timeline store in number of entities.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.http-authentication.type</name>
    <value>simple</value>
    <description>
      Defines authentication used for the Timeline Server HTTP endpoint.
      Supported values are: simple | kerberos | $AUTHENTICATION_HANDLER_CLASSNAME
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.http-authentication.simple.anonymous.allowed</name>
    <value>true</value>
    <description/>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.webapp.delegation-token-auth-filter.enabled</name>
    <value>false</value>
    <description>
      Flag to enable override of the default kerberos authentication filter with
      the RM authentication filter to allow authentication using delegation
      tokens(fallback to kerberos if the tokens are missing).
      Only applicable when the http authentication type is kerberos.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.bind-host</name>
    <value>0.0.0.0</value>
    <description>Default value is 0.0.0.0, when this is set the service will bind on all interfaces. If this optional address is set, the RPC and webapp servers will bind to this address and the port specified in yarn.resourcemanager.address and yarn.resourcemanager.webapp.address, respectively.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.bind-host</name>
    <value>0.0.0.0</value>
    <description>Default value is 0.0.0.0, when this is set the service will bind on all interfaces. If this optional address is set, the RPC and webapp servers will bind to this address and the port specified in yarn.nodemanager.address and yarn.nodemanager.webapp.address, respectively.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.bind-host</name>
    <value>0.0.0.0</value>
    <description>Default value is 0.0.0.0, when this is set the service will bind on all interfaces. If this optional address is set, the RPC and webapp servers will bind to this address and the port specified in yarn.timeline-service.address and yarn.timeline-service.webapp.address, respectively.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.node-labels.fs-store.root-dir</name>
    <display-name>YARN Node Labels FS Store Root directory</display-name>
    <value>/system/yarn/node-labels</value>
    <description>
      URI for NodeLabelManager.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.scheduler.minimum-allocation-vcores</name>
    <value>1</value>
    <description/>
    <display-name>Minimum Container Size (VCores)</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>8</maximum>
      <increment-step>1</increment-step>
    </value-attributes>
    <depends-on>
      <property>
        <type>yarn-site</type>
        <name>yarn.nodemanager.resource.cpu-vcores</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.scheduler.maximum-allocation-vcores</name>
    <value>8</value>
    <description/>
    <display-name>Maximum Container Size (VCores)</display-name>
    <value-attributes>
      <type>int</type>
      <minimum>0</minimum>
      <maximum>8</maximum>
      <increment-step>1</increment-step>
    </value-attributes>
    <depends-on>
      <property>
        <type>yarn-site</type>
        <name>yarn.nodemanager.resource.cpu-vcores</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.node-labels.enabled</name>
    <value>false</value>
    <description>
      Enable node labels to restrict YARN applications so that they run only on cluster nodes that have a specified node label.
    </description>
    <display-name>Node Labels</display-name>
    <value-attributes>
      <type>value-list</type>
      <entries>
        <entry>
          <value>true</value>
          <label>Enabled</label>
        </entry>
        <entry>
          <value>false</value>
          <label>Disabled</label>
        </entry>
      </entries>
      <selection-cardinality>1</selection-cardinality>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.container-executor.class</name>
    <value>org.apache.hadoop.yarn.server.nodemanager.DefaultContainerExecutor</value>
    <description>ContainerExecutor for launching containers</description>
    <depends-on>
      <property>
        <type>yarn-env</type>
        <name>yarn_cgroups_enabled</name>
      </property>
      <property>
        <type>core-site</type>
        <name>hadoop.security.authentication</name>
      </property>
      <property>
        <type>container-executor</type>
        <name>gpu_module_enabled</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.scheduler.monitor.enable</name>
    <description>
      Enable a set of periodic monitors (specified in
      yarn.resourcemanager.scheduler.monitor.policies) that affect the
      scheduler.
    </description>
    <value>true</value>
    <display-name>Pre-emption</display-name>
    <value-attributes>
      <type>value-list</type>
      <entries>
        <entry>
          <value>true</value>
          <label>Enabled</label>
        </entry>
        <entry>
          <value>false</value>
          <label>Disabled</label>
        </entry>
      </entries>
      <selection-cardinality>1</selection-cardinality>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <!-- In HDP 2.3, these properties were deleted:
yarn.node-labels.manager-class
-->

  <!-- These configs were inherited from HDP 2.3 -->
  <property>
    <name>yarn.timeline-service.recovery.enabled</name>
    <description>
      Enable timeline server to recover state after starting. If
      true, then yarn.timeline-service.state-store-class must be specified.
    </description>
    <value>true</value>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.authorization-provider</name>
    <description> Yarn authorization provider class. </description>
    <depends-on>
      <property>
        <type>ranger-yarn-plugin-properties</type>
        <name>ranger-yarn-plugin-enabled</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="false"/>
  </property>

  <!--ats v2.0 properties-->
  <property>
    <name>yarn.timeline-service.version</name>
    <value>2.0f</value>
    <description>Timeline service version we&#x2019;re currently using.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.versions</name>
    <value>1.5f,2.0f</value>
    <description>Comma separated Timeline service versions we&#x2019;re currently using. This overrides yarn.timeline-service.version. Acceptable values are 1.5f or 2.0f</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.system-metricspublisher.enabled</name>
    <value>true</value>
    <description>Enables YARN to publish metrics to timeline v2</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.rm.system-metricspublisher.emit-container-events</name>
    <value>true</value>
    <description>Experimentally enable each container to post timeline events to timeline v2</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.recovery.supervised</name>
    <value>true</value>
    <description>Default of false causes NM to kill its containers on shutdown. Should be set to true when NM recovery is enabled.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.store-class</name>
    <value>org.apache.hadoop.yarn.server.timeline.EntityGroupFSTimelineStore</value>
    <description>Main storage class for YARN timeline server.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.entity-group-fs-store.active-dir</name>
    <display-name>YARN Timeline Service Entity Group FS Store Active directory</display-name>
    <value>/ats/active/</value>
    <description>DFS path to store active application&#x2019;s timeline data</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.entity-group-fs-store.done-dir</name>
    <display-name>YARN Timeline Service Entity Group FS Store Done directory</display-name>
    <value>/ats/done/</value>
    <description>DFS path to store done application&#x2019;s timeline data</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.entity-group-fs-store.group-id-plugin-classes</name>
    <value>org.apache.hadoop.yarn.applications.distributedshell.DistributedShellTimelinePlugin</value>
    <description>Plugins that can translate a timeline entity read request into a list of timeline cache ids, separated by commas. </description>
    <value-attributes>
      <empty-value-valid>true</empty-value-valid>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <!-- advanced ats v1.5 properties-->
  <property>
    <name>yarn.timeline-service.entity-group-fs-store.summary-store</name>
    <description>Summary storage for ATS v1.5</description>
    <!-- Use rolling leveldb, advanced -->
    <value>org.apache.hadoop.yarn.server.timeline.RollingLevelDBTimelineStore</value>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.entity-group-fs-store.scan-interval-seconds</name>
    <description>
      Scan interval for ATS v1.5 entity group file system storage reader.This
      value controls how frequent the reader will scan the HDFS active directory
      for application status.
    </description>
    <!-- Default is 60 seconds, advanced -->
    <value>60</value>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.log.server.web-service.url</name>
    <value>http://localhost:8188/ws/v1/applicationhistory</value>
    <description>Log Server Web Service URL.</description>
    <depends-on>
      <property>
        <type>yarn-site</type>
        <name>yarn.http.policy</name>
      </property>
      <property>
        <type>yarn-site</type>
        <name>yarn.timeline-service.webapp.address</name>
      </property>
      <property>
        <type>yarn-site</type>
        <name>yarn.timeline-service.webapp.https.address</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.entity-group-fs-store.cleaner-interval-seconds</name>
    <description>
      Scan interval for ATS v1.5 entity group file system storage cleaner.This
      value controls how frequent the reader will scan the HDFS done directory
      for stale application data.
    </description>
    <!-- 3600 is default, advanced -->
    <value>3600</value>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.entity-group-fs-store.retain-seconds</name>
    <description>
      How long the ATS v1.5 entity group file system storage will keep an
      application's data in the done directory.
    </description>
    <!-- 7 days is default, advanced -->
    <value>604800</value>
    <on-ambari-upgrade add="false"/>
  </property>


  <!-- These configs were inherited from HDP 2.5 -->
  <property>
    <name>yarn.nodemanager.container-metrics.unregister-delay-ms</name>
    <value>60000</value>
    <description>The delay time ms to unregister container metrics after completion.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.entity-group-fs-store.group-id-plugin-classpath</name>
    <value/>
    <description>Classpath for all plugins defined in yarn.timeline-service.entity-group-fs-store.group-id-plugin-classes.</description>
    <value-attributes>
      <empty-value-valid>true</empty-value-valid>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.monitor.capacity.preemption.total_preemption_per_round</name>
    <value>0.1</value>
    <description>This option controls the pace at which containers-marked-for-preemption are actually preempted in each period.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.monitor.capacity.preemption.natural_termination_factor</name>
    <value>1</value>
    <description>Similar to total_preemption_per_round, we can apply this factor to slowdown resource preemption after preemption-target is computed for each queue.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.monitor.capacity.preemption.monitoring_interval</name>
    <value>15000</value>
    <description>Time in milliseconds between invocations of this ProportionalCapacityPreemptionPolicy policy.</description>
    <on-ambari-upgrade add="false"/>
  </property>

  <!-- These configs are related to docker -->
  <property>
    <name>yarn.nodemanager.linux-container-executor.nonsecure-mode.limit-users</name>
    <value>true</value>
    <description>
      Whether all applications should be run as the NodeManager process' owner.
      When false, applications are launched instead as the application owner.
    </description>
    <value-attributes>
      <type>boolean</type>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.runtime.linux.allowed-runtimes</name>
    <value>default,docker</value>
    <description>
      Comma separated list of runtimes that are allowed when using
      LinuxContainerExecutor. The allowed values are default, docker, and
      javasandbox.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.runtime.linux.docker.allowed-container-networks</name>
    <value>host,none,bridge</value>
    <description>
      Optional. A comma-separated set of networks allowed when launching
      containers. Valid values are determined by Docker networks available from
      `docker network ls`.
    </description>
    <on-ambari-upgrade add="false"/>
    <value-attributes>
      <empty-value-valid>true</empty-value-valid>
    </value-attributes>
  </property>
  <property>
    <name>yarn.nodemanager.runtime.linux.docker.default-container-network</name>
    <value>host</value>
    <description>
      The network used when launching Docker containers when no
      network is specified in the request. This network must be one of the
      (configurable) set of allowed container networks.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.runtime.linux.docker.privileged-containers.allowed</name>
    <value>false</value>
    <description>
      Optional. Whether applications are allowed to run in privileged
      containers.
    </description>
    <value-attributes>
      <type>boolean</type>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.runtime.linux.docker.privileged-containers.acl</name>
    <value/>
    <description>
      Optional. A comma-separated list of users who are allowed to request
      privileged contains if privileged containers are allowed.
    </description>
    <on-ambari-upgrade add="false"/>
    <value-attributes>
      <empty-value-valid>true</empty-value-valid>
    </value-attributes>
  </property>
  <property>
    <name>yarn.nodemanager.runtime.linux.docker.capabilities</name>
    <value>
      CHOWN,DAC_OVERRIDE,FSETID,FOWNER,MKNOD,NET_RAW,SETGID,SETUID,SETFCAP,
      SETPCAP,NET_BIND_SERVICE,SYS_CHROOT,KILL,AUDIT_WRITE
    </value>
    <description>
      Optional. This configuration setting determines the capabilities
      assigned to docker containers when they are launched. While these may not
      be case-sensitive from a docker perspective, it is best to keep these
      uppercase. To run without any capabilites, set this value to
      "none" or "NONE"
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.webapp.ui2.enable</name>
    <value>true</value>
    <description>
      This configuration setting enables YARN web ui2 server which is a revamped
      UI for better user experience.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>

  <!--Enable CORS for all component-->
  <property>
    <name>yarn.timeline-service.http-cross-origin.enabled</name>
    <value>true</value>
    <description/>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.webapp.cross-origin.enabled</name>
    <value>true</value>
    <description/>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.webapp.cross-origin.enabled</name>
    <value>true</value>
    <description/>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.resource-plugins.gpu.docker-plugin</name>
    <value>nvidia-docker-v1</value>
    <display-name>GPU docker plugin</display-name>
    <description>Specify docker command plugin for GPU. By default uses Nvidia
      docker V1.0
    </description>
    <depends-on>
      <property>
        <type>container-executor</type>
        <name>gpu_module_enabled</name>
      </property>
      <property>
        <type>container-executor</type>
        <name>docker_module_enabled</name>
      </property>
    </depends-on>
    <value-attributes>
      <empty-value-valid>true</empty-value-valid>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.resource-plugins.gpu.docker-plugin.nvidiadocker-v1.endpoint</name>
    <value>http://localhost:3476/v1.0/docker/cli</value>
    <display-name>GPU docker plugin endpoint for Nvidia Docker Version 1</display-name>
    <description>Specify end point of nvidia-docker-plugin</description>
    <depends-on>
      <property>
        <type>container-executor</type>
        <name>gpu_module_enabled</name>
      </property>
      <property>
        <type>container-executor</type>
        <name>docker_module_enabled</name>
      </property>
    </depends-on>
    <value-attributes>
      <empty-value-valid>true</empty-value-valid>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <!-- These configs are related to yarn service -->
  <property>
    <name>yarn.webapp.api-service.enable</name>
    <value>true</value>
    <description>
      Whether to enable Yarn API Service.
    </description>
    <value-attributes>
      <type>boolean</type>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.service.framework.path</name>
    <value>/bigtop/apps/3.2.0/yarn/service-dep.tar.gz</value>
    <description>
      YARN Service AM dependency tarball location. Enables faster app submission.
    </description>
    <on-ambari-upgrade add="true"/>
  </property>

  <!--ATSv2 properties-->
  <property>
    <name>yarn.nodemanager.aux-services.timeline_collector.class</name>
    <value>org.apache.hadoop.yarn.server.timelineservice.collector.PerNodeTimelineCollectorsAuxService</value>
    <description>The auxiliary service class to use </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.reader.webapp.address</name>
    <value>localhost:8198</value>
    <description>
      The http address of the timeline reader web application.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.reader.webapp.https.address</name>
    <value>localhost:8199</value>
    <description>
      The http address of the timeline reader web application.
    </description>
    <on-ambari-upgrade add="false"/>
  </property>

  <!--ATSv2 HBase Properties-->
  <property>
    <name>yarn.timeline-service.hbase-schema.prefix</name>
    <value>prod.</value>
    <description>HBase table prefix.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.hbase.configuration.file</name>
    <value>file://{{yarn_hbase_conf_dir}}/hbase-site.xml</value>
    <description>HBase configuration location.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.hbase.coprocessor.jar.hdfs.location</name>
    <value>{{yarn_timeline_jar_location}}</value>
    <description>HBase table creation jar location.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.monitor.capacity.preemption.intra-queue-preemption.enabled</name>
    <value>true</value>
    <description>This property need to be set to make preemption within a Leaf Queue based on user-limit and application priority.</description>
    <depends-on>
      <property>
        <type>yarn-site</type>
        <name>yarn.resourcemanager.scheduler.monitor.enable</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.scheduler.capacity.ordering-policy.priority-utilization.underutilized-preemption.enabled</name>
    <value>true</value>
    <description>This property need to be set to make preemption can happen under a fragmented cluster.</description>
    <depends-on>
      <property>
        <type>yarn-site</type>
        <name>yarn.resourcemanager.scheduler.monitor.enable</name>
      </property>
    </depends-on>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.resourcemanager.display.per-user-apps</name>
    <value>true</value>
    <description>
      Flag to enable display of applications per user as an admin
      configuration.
    </description>
    <value-attributes>
      <type>boolean</type>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.service.system-service.dir</name>
    <value>/services</value>
    <description>FS directory path to load and deploy admin configured services</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.timeline-service.generic-application-history.save-non-am-container-meta-info</name>
    <value>false</value>
    <description>Defines if RM will save non am container meta-info in history store.</description>
    <value-attributes>
      <type>boolean</type>
    </value-attributes>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>hadoop.registry.dns.bind-address</name>
    <value>0.0.0.0</value>
    <description>Address associated with the network interface to which the DNS listener should bind.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>hadoop.http.cross-origin.allowed-origins</name>
    <value>{{cross_origins}}</value>
    <description>Comma separated list of origins that are allowed for web services
      needing cross-origin (CORS) support.</description>
    <on-ambari-upgrade add="false"/>
  </property>
  <property>
    <name>yarn.nodemanager.resourcemanager.connect.wait.secs</name>
    <value>1800</value>
    <description>Max time, in seconds, to wait to establish a connection to RM when NM starts. The NM will shutdown if it cannot connect to RM within the specified max time period. If the value is set as -1, then NM will retry forever.</description>
    <on-ambari-upgrade add="false"/>
  </property>
</configuration>
